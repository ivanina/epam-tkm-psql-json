<div ng-controller="SocialWidgetController" ng-show="user.$resolved" class="recommendations__container">
    <div ng-show="recommendation.$resolved">
        <div class="recommendations__header">
            <h2>
                <strong>
                    {{user.name ? user.name + ', ' : ''}}
                    {{recommendation.events.length > 0 ? 'recommended for you' : 'sorry, no recommendations'}}
                </strong>
            </h2>
        </div>
    </div>
    <div ng-show="!recommendation.$resolved" class="recommendations__list">
        <div class="recommendations__loader"></div>
    </div>
    <div ng-show="recommendation.events.length > 0" class="recommendations__list">
        <button ng-show="carouselCursor > 0"
                ng-click="shiftCarousel()"
                class="recommendations-list__nav-left"></button>
        <div class="recommendations-list__container" ng-init="shiftCarousel(1)">
            <ul class="recommendations-events">
                <li ng-repeat="event in displayedEvents"
                    ng-include="'template/event-template.html'"
                    class="recommendations-event"></li>
            </ul>
        </div>
        <button ng-show="carouselCursor < recommendation.events.length - CAROUSEL_SIZE"
                ng-click="shiftCarousel(true)"
                class="recommendations-list__nav-right"></button>
    </div>
    <div class="recommendations__buttons">
        <form ng-show="!user.facebookConnected" action="connect/facebook" method="POST">
            <button class="recommendations__button">
                <span class="recommendations__button-label">Connect to Facebook</span>
            </button>
        </form>
        <form ng-show="!user.twitterConnected" action="connect/twitter" method="POST">
            <button class="recommendations__button">
                <span class="recommendations__button-label">Connect to Twitter</span>
            </button>
        </form>
        <form ng-show="!user.spotifyConnected" action="connect/spotify" method="POST">
            <button class="recommendations__button">
                <span class="recommendations__button-label">Connect to Spotify</span>
            </button>
        </form>
        <button ui-sref="social.meta(recommendation)"
                ng-show="recommendation.events.length > 0"
                class="recommendations__button">
            <span class="recommendations__button-label">Meta</span>
        </button>
    </div>
    <div ui-view="meta"></div>
</div>

